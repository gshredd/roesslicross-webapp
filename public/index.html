<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RÃ¶sslicross 2025</title>
  <link rel="stylesheet" href="style.css" />
</head>

<script>
  (function(){
    const update = () => {
      document.body.classList.toggle('nav-scrolled', window.scrollY > 10);
    };
    update();
    window.addEventListener('scroll', update, { passive: true });
  })();
</script>

<body>

<!-- Navigation -->
<nav class="navbar" role="navigation" aria-label="Hauptnavigation">
  <input type="checkbox" id="menu-toggle" aria-hidden="true" />
  <label for="menu-toggle" class="menu-icon" aria-label="MenÃ¼ Ã¶ffnen/schlieÃŸen" aria-controls="main-menu" aria-expanded="false">â˜°</label>

  <div class="menu" id="main-menu">
    <!-- Scrolle zu den Sektionen statt neue Seiten zu laden -->
    <a href="#infos">Start</a>
    <a href="#fotos">Fotos</a>
    <a href="#rangliste">Rangliste</a>
    <a href="#faq">FAQ</a>
    <a href="#anmeldung">Anmeldung</a>
  </div>
</nav>

<div class="main-wrapper">
  <div class="main-content" id="top">
    <header>
      <h1>ANMELDUNG INT. RÃ–SSLICROSS 2025</h1>
      <p>Are you the real horsewoman / horseman?</p>
    </header>

    <section id="infos">
      <h2>ğŸ“… Informationen</h2>
      <p><strong>Datum:</strong> 25. Oktober 2025</p>
      <p><strong>Ort:</strong> Casa Frisegg aka Neuhof 1, 8489 Wildberg</p>
      <p><strong>Einschreibung & Streckenbesichtigung:</strong> ab 17.00 Uhr</p>
      <p><strong>Start:</strong> 18.30 Uhr â€“ Besammlung auf dem Hofplatz (Gemeinsame Einfahrrunde & Einstehen)</p>
      <p><strong>Festwirtschaft & Dinner:</strong> ca. 20.30 Uhr</p>
      <p><strong>Siegerzeremonie & Afterparty:</strong> ca. 22.00 Uhr</p>
      <p><strong>Kategorien:</strong> Girls Â· Boys Â· Savage Tandems</p>
      <p><strong>Startgeld:</strong> Race CHF 40.00 Â· Nur Dinner CHF 20.00 (Zahlig vor Ort in Bar oder mit TWINT)</p>
      <p><strong>Dinner:</strong> Food inkl. im Startgeld enthalte (GetrÃ¤nk separat)</p>
      <p><strong>Spezialpriis:</strong> Besti Verkleidig</p>
    </section>

    <section id="rules">
      <h2>ğŸ“œ Rules</h2>
      <p><strong>Bike:</strong> Alli Velos (sofern fahrtauglich), e-Bikes ohni Akku (Velos us de Tandem-Kategorie muess mind. zwei Persone chÃ¶nne befÃ¶rdere).</p>
      <p><strong>Helm:</strong> StÃ¼rz vom Pferd chÃ¶nnd weh tue. Helm isch obligatorisch!</p>
      <p><strong>Liecht:</strong> S Renne findet im Dunkle statt und d Strecki isch nur teilwiis belÃ¼Ã¼chtet. Darum isch Liecht am Velo Pflicht!</p>
      <p><strong>Start:</strong> D Rennorganisation git d Startreihefolg vorem Start bekannt.</p>
      <p><strong>Startsignal:</strong> Vorem Start lauft de Song â€Oneâ€œ vo Scooter. Sobald de Satz â€I am the Horsemanâ€œ fallt, mues s StartgetrÃ¤nk ustrunke werde â€“ denn derf gstartet werde.</p>
      <p><strong>AbkÃ¼rze:</strong> Offizielli Strecki nÃ¶d verlah; pro Rundi cha dr Shortcut bruucht werde â†’ denn: 1Ã— Krambambuli.</p>
      <p><strong>Rennduur:</strong> ca. 45 Minute</p>
    </section>

    <section id="faq">
      <h2>â“ FAQ</h2>
      <p><strong>Gits das Jahr endlich e Rangliste?</strong> Vermuetlich kriegemer das in dem Jahr tatsÃ¤chliich ane!</p>
      <p><strong>Ich han letzt Jahr gwunne, kriege ich e Spezialbehandlig?</strong> Vorjahressieger:inne dÃ¶rfed vorne iistah â€“ mit spezieller Iilaufzeremonie.</p>
      <p><strong>Chume vo wiit her, kei Ahnig woni schlafe sÃ¶ll?</strong> Eifach frÃ¶ge â€“ mer hend div. UnterkunftsmÃ¶glichkeite vor Ort und ide UmgÃ¤big.</p>
      <p><strong>Was wenns regnet?</strong> Denn wirdâ€™s erst richtig guet. Mer lueged, ob mer sogar Hochdruckreiniger & Dusche im Ziel hiikriege wÃ¼red.</p>
      <p><strong>Ich bin Profi â€“ derf ich mitfahre?</strong> Usnahmswiis.</p>
      <p><strong>Chan ich mich druf vorbereite?</strong> Hafer & Chraftfuetter zum Zmorge, drÃ¼ RÃ¼ebli zum Zmittag.</p>
      <p><strong>Chan ich epper mitbringe?</strong> Gib churz Bescheid via WhatsApp (079 557 27 44) â€“ mir finded es PlÃ¤tzli meh :)</p>
      <p><strong>Chan ich eppis mitbringe?</strong> Es Velo, gueti Luune, chrÃ¤ftigi Bei und wenn dich als absoluti Legende verewige wotsch: en Dessert.</p>
      <p><strong>Empfang ide Casa Friesegg?</strong> Mit Swisscom Netz hesch volle 5G Empfang. Falls es anders Netz nutzisch eher gar kei Empfang. In dem Fall nimmsch also besser chli Bargeld und es FunkgrÃ¤t mit. Ps. mir hend en mobile WLAN Router fÃ¼r s grÃ¶bste.</p>
      <p><strong>Chani mitem Auto cho?</strong> ParkplÃ¤tz sind unterhalb vom Hof signalisiert.</p>
      <p><strong>Wie chume ich da wieder weg?</strong> Wenn nÃ¼mm weisch wie heicho â†’ bim OK melde; mir bringed dich zum nÃ¤chschte Bahnhof.</p>
      <p><strong>Gits gueti Musig?</strong> Nei.</p>
    </section>

    <section id="anmeldung">
      <h2>ğŸ“ Anmeldung</h2>
      <form action="/anmelden" method="POST">
        <label for="prename">Vorname:</label><br>
        <input type="text" id="prename" name="prename" placeholder="Pferdinand" required><br>

        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name" placeholder="Schimmel" required><br>

        <label for="email">E-Mail:</label><br>
        <input type="email" id="email" name="email" placeholder="sexy_horseboiii94@netlog.ch" autocomplete="email" required><br>

        <label for="phone">Handynummere:</label><br>
        <input type="tel" id="phone" name="phone" inputmode="tel" autocomplete="tel"
               placeholder="+41 79 123 s RÃ¶ssli macht hÃ¼Ã¼Ã¼" required/><br>

        <label for="kategorie">Kategorie:</label><br>
        <select id="kategorie" name="kategorie">
          <option>Girls (inkl. Dinner)</option>
          <option>Boys (inkl. Dinner)</option>
          <option>Savage Tandems (inkl. Dinner)</option>
          <option>Zueluege (inkl. Dinner)</option>
        </select><br>

        <label for="consent">Haftungsausschluss:</label><br>
        <div class="consent">
          <input type="checkbox" id="consent" name="consent" required>
          <label for="consent">
            Ich bestÃ¤tige, dass ich auf eigene Verantwortung am RÃ¶sslicross teilnehme
            und die Veranstalter:innen jede Haftung ablehnen.
          </label>
        </div><br>

        <button type="submit">Jetzt anmelden</button>
      </form>
    </section>

    <footer>
      <p>&copy; 2025 RÃ¶sslicross â€“ <a href="mailto:info@roesslicross.ch">Kontakt</a></p>
    </footer>
  </div>
</div>

<!-- Auto-close fÃ¼rs MobilmenÃ¼ & ARIA-Status updaten -->
<script>
  (function () {
    const toggle = document.getElementById('menu-toggle');
    const label  = document.querySelector('label[for="menu-toggle"]');
    const links  = document.querySelectorAll('.menu a');

    function syncAria() {
      if (label) label.setAttribute('aria-expanded', String(!!toggle.checked));
    }
    if (toggle) {
      toggle.addEventListener('change', syncAria);
      syncAria();
    }
    links.forEach(a => a.addEventListener('click', () => {
      if (toggle) { toggle.checked = false; syncAria(); }
    }));
  })();
</script>

<script>
  (function(){
    const apply = () => document.body.classList.toggle('nav-scrolled', window.scrollY > 10);
    apply();
    window.addEventListener('scroll', apply, { passive: true });
  })();
</script>

<script>
  (async () => {
    // Fotos
    const fotosSec = document.querySelector('#fotos');
    if (fotosSec) {
      try {
        const res = await fetch('/api/fotos');
        const files = await res.json();
        if (!files || files.length === 0) {
          fotosSec.insertAdjacentHTML('beforeend', '<p>ğŸ“· Noch keine Fotos online.</p>');
        } else {
          const grid = document.createElement('div');
          grid.className = 'gallery';
          files.forEach(f => {
            const img = document.createElement('img');
            img.src = '/fotos/' + encodeURIComponent(f);
            img.alt = 'RÃ¶sslicross Foto';
            grid.appendChild(img);
          });
          fotosSec.appendChild(grid);
        }
      } catch { fotosSec.insertAdjacentHTML('beforeend', '<p>ğŸ“· Noch keine Fotos online.</p>'); }
    }

    // Rangliste
    const rSec = document.querySelector('#rangliste');
    if (rSec) {
      try {
        const res = await fetch('/api/rangliste');
        const rows = await res.json();
        if (!rows || rows.length === 0) {
          rSec.insertAdjacentHTML('beforeend', '<p>ğŸ Noch keine Rangliste verÃ¶ffentlicht.</p>');
        } else {
          const table = document.createElement('table');
          table.className = 'results';
          table.innerHTML = '<thead><tr><th>Pos</th><th>Name</th><th>Kategorie</th><th>Zeit</th></tr></thead>';
          const tb = document.createElement('tbody');
          rows.forEach(r => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${r.position ?? ''}</td><td>${r.name ?? ''}</td><td>${r.category ?? ''}</td><td>${r.time ?? ''}</td>`;
            tb.appendChild(tr);
          });
          table.appendChild(tb);
          rSec.appendChild(table);
        }
      } catch { rSec.insertAdjacentHTML('beforeend', '<p>ğŸ Noch keine Rangliste verÃ¶ffentlicht.</p>'); }
    }
  })();
</script>

</body>
</html>
